<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>VendingMachineTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">VendingMachine (Mar 10, 2023 6:40:33 PM)</a> &gt; <a href="../../index.html" class="el_group">VendingMachine</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">edu.towson.cis.cosc442.project2.vendingmachine</a> &gt; <span class="el_source">VendingMachineTest.java</span></div><h1>VendingMachineTest.java</h1><pre class="source lang-java linenums">package edu.towson.cis.cosc442.project2.vendingmachine;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.fail;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

<span class="fc" id="L10">public class VendingMachineTest {</span>
    VendingMachine vendingMachine;
    VendingMachineItem item;

    /**
     * Sets up the test fixture.
     */
    @Before
    public void setUp() {
<span class="fc" id="L19">        vendingMachine = new VendingMachine();</span>
<span class="fc" id="L20">        item = new VendingMachineItem(&quot;Coke&quot;, 1.25);</span>
<span class="fc" id="L21">    }</span>

    /**
     * Tears down the test fixture.
     */
    @After
    public void tearDown() {
<span class="fc" id="L28">        vendingMachine = null;</span>
<span class="fc" id="L29">        item = null;</span>
<span class="fc" id="L30">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Ensures that item is added to the correct slot.
     */
    @Test
    public void testAddItemSuccessfullyAddsAnItemToASlot() {
<span class="fc" id="L38">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L39">        assertEquals(item, vendingMachine.getItem(&quot;A&quot;));</span>
<span class="fc" id="L40">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Ensures that item is added to the correct slot.
     */
    @Test
    public void testAddItemSuccessfullyAddsAnItemToBSlot() {
<span class="fc" id="L48">        vendingMachine.addItem(item, &quot;B&quot;);</span>
<span class="fc" id="L49">        assertEquals(item, vendingMachine.getItem(&quot;B&quot;));</span>
<span class="fc" id="L50">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Ensures that item is added to the correct slot.
     */
    @Test
    public void testAddItemSuccessfullyAddsAnItemToCSlot() {
<span class="fc" id="L58">        vendingMachine.addItem(item, &quot;C&quot;);</span>
<span class="fc" id="L59">        assertEquals(item, vendingMachine.getItem(&quot;C&quot;));</span>
<span class="fc" id="L60">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Ensures that item is added to the correct slot.
     */
    @Test
    public void testAddItemSuccessfullyAddsAnItemToDSlot() {
<span class="fc" id="L68">        vendingMachine.addItem(item, &quot;D&quot;);</span>
<span class="fc" id="L69">        assertEquals(item, vendingMachine.getItem(&quot;D&quot;));</span>
<span class="fc" id="L70">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Ensures that item is added to the correct slot.
     */
    @Test
    public void testAddItemThrowsExceptionForInvalidSlot() {
        try {
<span class="nc" id="L79">            vendingMachine.addItem(item, &quot;E&quot;);</span>
<span class="nc" id="L80">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L81">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L82">            assertEquals(&quot;Invalid code for vending machine item&quot;, e.getMessage());</span>
        }
<span class="fc" id="L84">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Throws an exception when the slot is null.
     */
    @Test
    public void testAddItemThrowsExceptionForNullSlot() {
        try {
<span class="nc" id="L93">            vendingMachine.addItem(item, null);</span>
<span class="nc" id="L94">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L95">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L96">            assertEquals(&quot;Code cannot be null&quot;, e.getMessage());</span>
        }
<span class="fc" id="L98">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Throws an exception when the item is null.
     */
    @Test
    public void testAddItemThrowsExceptionForItemBeingNull() {
        try {
<span class="nc" id="L107">            vendingMachine.addItem(null, &quot;A&quot;);</span>
<span class="nc" id="L108">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L109">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L110">            assertEquals(&quot;Item cannot be null&quot;, e.getMessage());</span>
        }
<span class="fc" id="L112">    }</span>

    /**
     * Test the addItem method of the {@link VendingMachine} class.
     * Throws an exception when the slot is already occupied.
     */
    @Test
    public void testAddItemThrowsExceptionForSlotAlreadyOccupied() {
<span class="fc" id="L120">        vendingMachine.addItem(item, &quot;A&quot;);</span>
        try {
<span class="nc" id="L122">            vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="nc" id="L123">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L124">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L125">            assertEquals(&quot;Slot A already occupied&quot;, e.getMessage());</span>
        }
<span class="fc" id="L127">    }</span>

    /**
     * Test the getItem method of the {@link VendingMachine} class.
     * Ensures that the item is removed from the correct slot.
     */
    @Test
    public void testRemoveItemSuccessfullyRemovesItemFromASlot() {
<span class="fc" id="L135">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L136">        vendingMachine.removeItem(&quot;A&quot;);</span>
<span class="fc" id="L137">        assertEquals(null, vendingMachine.getItem(&quot;A&quot;));</span>
<span class="fc" id="L138">    }</span>

    /**
     * Test the getItem method of the {@link VendingMachine} class.
     * Ensures that the item is removed from the correct slot.
     */
    @Test
    public void testRemoveItemSuccessfullyRemovesItemFromBSlot() {
<span class="fc" id="L146">        vendingMachine.addItem(item, &quot;B&quot;);</span>
<span class="fc" id="L147">        vendingMachine.removeItem(&quot;B&quot;);</span>
<span class="fc" id="L148">        assertEquals(null, vendingMachine.getItem(&quot;B&quot;));</span>
<span class="fc" id="L149">    }</span>

    /**
     * Test the getItem method of the {@link VendingMachine} class.
     * Ensures that the item is removed from the correct slot.
     */
    @Test
    public void testRemoveItemSuccessfullyRemovesItemFromCSlot() {
<span class="fc" id="L157">        vendingMachine.addItem(item, &quot;C&quot;);</span>
<span class="fc" id="L158">        vendingMachine.removeItem(&quot;C&quot;);</span>
<span class="fc" id="L159">        assertEquals(null, vendingMachine.getItem(&quot;C&quot;));</span>
<span class="fc" id="L160">    }</span>

    /**
     * Test the getItem method of the {@link VendingMachine} class.
     * Ensures that the item is removed from the correct slot.
     */
    @Test
    public void testRemoveItemSuccessfullyRemovesItemFromDSlot() {
<span class="fc" id="L168">        vendingMachine.addItem(item, &quot;D&quot;);</span>
<span class="fc" id="L169">        vendingMachine.removeItem(&quot;D&quot;);</span>
<span class="fc" id="L170">        assertEquals(null, vendingMachine.getItem(&quot;D&quot;));</span>
<span class="fc" id="L171">    }</span>

    /**
     * Test the getItem method of the {@link VendingMachine} class.
     * Throws an exception when the slot is already empty.
     */
    @Test
    public void testRemoveItemThrowsExceptionForSlotAlreadyEmpty() {
        try {
<span class="nc" id="L180">            vendingMachine.removeItem(&quot;A&quot;);</span>
<span class="nc" id="L181">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L182">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L183">            assertEquals(&quot;Slot A is empty -- cannot remove item&quot;, e.getMessage());</span>
        }
<span class="fc" id="L185">    }</span>

    /**
     * Test the insertMoney method of the {@link VendingMachine} class.
     * Ensures that the correct amount is added to the balance.
     */
    @Test
    public void testInsertMoneySuccessfullyAddsMoneyToBalance() {
<span class="fc" id="L193">        vendingMachine.insertMoney(1.00);</span>
<span class="fc" id="L194">        assertEquals(1.00, vendingMachine.getBalance(), 0.001);</span>
<span class="fc" id="L195">    }</span>

    /**
     * Test the insertMoney method of the {@link VendingMachine} class.
     * Throws an exception when the amount is negative.
     */
    @Test
    public void testInsertMoneyThrowsExceptionForNegativeAmount() {
        try {
<span class="nc" id="L204">            vendingMachine.insertMoney(-1.00);</span>
<span class="nc" id="L205">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L206">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L207">            assertEquals(&quot;Invalid amount.  Amount must be &gt;= 0&quot;, e.getMessage());</span>
        }
<span class="fc" id="L209">    }</span>

    /**
     * Test the getBalance method of the {@link VendingMachine} class.
     * Ensures that the correct balance is returned.
     */
    @Test
    public void testGetBalanceReturnsCorrectBalance() {
<span class="fc" id="L217">        vendingMachine.insertMoney(1.00);</span>
<span class="fc" id="L218">        assertEquals(1.00, vendingMachine.getBalance(), 0.001);</span>
<span class="fc" id="L219">    }</span>

    /**
     * Test the makePurchase method of the {@link VendingMachine} class.
     * Ensures that the balance is correct after a purchase.
     * Ensures that the item is removed from the correct slot.
     */
    @Test
    public void testMakePurchaseSuccessfullyPurchasesItem() {
<span class="fc" id="L228">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L229">        vendingMachine.insertMoney(1.25);</span>
<span class="fc" id="L230">        vendingMachine.makePurchase(&quot;A&quot;);</span>
<span class="fc" id="L231">        assertEquals(0.00, vendingMachine.getBalance(), 0.001);</span>
<span class="fc" id="L232">        assertEquals(null, vendingMachine.getItem(&quot;A&quot;));</span>
<span class="fc" id="L233">    }</span>

    /**
     * Test the makePurchase method of the {@link VendingMachine} class.
     * Throws an exception when the code is null.
     */
    @Test
    public void testMakePurchaseThrowsExceptionForNullSlot() {
        try {
<span class="nc" id="L242">            vendingMachine.makePurchase(null);</span>
<span class="nc" id="L243">            fail(&quot;Expected VendingMachineException&quot;);</span>
<span class="pc" id="L244">        } catch (VendingMachineException e) {</span>
<span class="fc" id="L245">            assertEquals(&quot;Code cannot be null&quot;, e.getMessage());</span>
        }
<span class="fc" id="L247">    }</span>

    /**
     * Test the makePurchase method of the {@link VendingMachine} class.
     * Returns false when there is not enough money.
     */
    @Test
    public void testMakePurchaseReturnsFalseForNotEnoughMoney() {
<span class="fc" id="L255">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L256">        vendingMachine.insertMoney(1.00);</span>
<span class="fc" id="L257">        assertEquals(false, vendingMachine.makePurchase(&quot;A&quot;));</span>
<span class="fc" id="L258">    }</span>

    /**
     * Test the makePurchase method of the {@link VendingMachine} class.
     * Returns false when the slot is empty.
     */
    @Test
    public void testMakePurchaseReturnsFalseForEmptySlot() {
<span class="fc" id="L266">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L267">        vendingMachine.insertMoney(1.25);</span>
<span class="fc" id="L268">        assertEquals(false, vendingMachine.makePurchase(&quot;B&quot;));</span>
<span class="fc" id="L269">    }</span>

    /**
     * Test the returnChange method of the {@link VendingMachine} class.
     * Ensures that the correct change is returned.
     */
    @Test
    public void testReturnChangeReturnsCorrectChange() {
<span class="fc" id="L277">        vendingMachine.insertMoney(1.00);</span>
<span class="fc" id="L278">        assertEquals(1.00, vendingMachine.returnChange(), 0.001);</span>
<span class="fc" id="L279">    }</span>

    /**
     * Test the returnChange method of the {@link VendingMachine} class.
     * Ensures that the balance is reset to zero.
     */
    @Test
    public void testReturnChangeResetsBalanceToZero() {
<span class="fc" id="L287">        vendingMachine.insertMoney(1.00);</span>
<span class="fc" id="L288">        vendingMachine.returnChange();</span>
<span class="fc" id="L289">        assertEquals(0.00, vendingMachine.getBalance(), 0.001);</span>
<span class="fc" id="L290">    }</span>

    /**
     * Test the returnChange method of the {@link VendingMachine} class.
     * Ensures that the correct change is returned after a purchase.
     */
    @Test
    public void testReturnChangeReturnsCorrectChangeAfterPurchase() {
<span class="fc" id="L298">        vendingMachine.addItem(item, &quot;A&quot;);</span>
<span class="fc" id="L299">        vendingMachine.insertMoney(1.25);</span>
<span class="fc" id="L300">        vendingMachine.makePurchase(&quot;A&quot;);</span>
<span class="fc" id="L301">        assertEquals(0.00, vendingMachine.returnChange(), 0.001);</span>
<span class="fc" id="L302">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span>VendingMachine (Mar 10, 2023 6:40:33 PM)</div></body></html>